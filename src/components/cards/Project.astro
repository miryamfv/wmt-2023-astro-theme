---
import BtnLink from "../shared/BtnLink.astro";

export interface Props {
    title: string;
    description: string;
    url: string;
    thumbnail: object;
}

const { title, description, url, thumbnail } = Astro.props;
---

<div
    class="card p-5 rounded-3xl border border-box-border bg-box-bg shadow-lg shadow-box-shadow"
>
    <div class="mt-6 space-y-4">
        <h2 class="text-lg md:text-xl font-semibold text-heading-2">
            {title}
        </h2>

        {
            thumbnail ? (
                <p
                    class="thumbnail text-heading-2"
                    style={`background-image: url(${thumbnail.fields.file.url});`}
                >
                    {description}
                </p>
            ) : (
                <p class="thumbnail text-heading-2">{description}</p>
            )
        }

        <BtnLink
            text="View Website"
            href={`${url}`}
            className="flex justify-center w-full sm:w-max thumb"
            variant="primary"
        />
    </div>
</div>
<style>
    .card {
        height: 91vh;
        width: auto;
        margin: 0 1.5rem;
    }

    @media (min-width: 768px) {
        .card {
            height: auto;
        }
    }

    .card img {
        height: 80vh;
        width: auto;
        object-fit: cover;
    }

    .thumbnail {
        padding: 1rem;
        background-repeat: no-repeat;
        background-size: cover;
        background-position: 0 4.5rem;
        line-height: 1.5;
        height: 68vh;
        min-width: 320px;
        box-shadow: 0px 74px 5px 0px rgba(var(--color-box)) inset;
    }

    .card:hover .thumbnail,
    .card:focus .thumbnail,
    a.thumb:hover + .thumbnail,
    a.thumb:focus + .thumbnail {
        animation: thumbscroll 2s ease-in;
    }

    @keyframes thumbscroll {
        50% {
            background-position: bottom;
        }
    }
</style>
